

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DistMatrix &mdash; Elemental</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ElementalMatrix" href="Element.html" />
    <link rel="prev" title="AbstractDistMatrix" href="ADM.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Elemental
          

          
          </a>

          
            
            
              <div class="version">
                0.86
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tour.html">A brief tour of the library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build.html">Build system</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../core.html">Core functionality</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../imports.html">Imported library routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment.html">Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../element.html">Element manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrix.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grid.html">Grid</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../dist_matrix.html">DistMatrix</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ADM.html">AbstractDistMatrix</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">DistMatrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="Element.html">ElementalMatrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="Block.html">BlockMatrix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../graph.html">Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sparse_matrix.html">SparseMatrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dist_graph.html">DistGraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dist_sparse_matrix.html">DistSparseMatrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dist_multi_vec.html">DistMultiVec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../View.html">Viewing submatrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proxies.html">Read/write proxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flame_part.html">FLAME-like partition tracking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../blas_like.html">BLAS-like linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lapack_like.html">LAPACK-like linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../control.html">Control theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../matrices.html">Special matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../io.html">Input/output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indices.html">Indices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Elemental</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../core.html">Core functionality</a> &raquo;</li>
        
          <li><a href="../dist_matrix.html">DistMatrix</a> &raquo;</li>
        
      <li>DistMatrix</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/core/dist_matrix/DM.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="distmatrix">
<h1>DistMatrix<a class="headerlink" href="#distmatrix" title="Permalink to this headline">Â¶</a></h1>
<p>The <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">DistMatrix&lt;scalarType=double,colDist=MC,rowDist=MR,wrapType=ELEMENT&gt;</span></code> class, where partial specializations to <cite>wrapType=ELEMENT</cite> derive from
<a class="reference internal" href="Element.html#_CPPv4IE15ElementalMatrixI10scalarTypeE" title="ElementalMatrix&lt;scalarType&gt;"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ElementalMatrix&lt;scalarType&gt;</span></code></a>, and partial specializations to
<cite>wrapType=BLOCK</cite> derive from <a class="reference internal" href="Block.html#_CPPv4IE11BlockMatrixI10scalarTypeE" title="BlockMatrix&lt;scalarType&gt;"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BlockMatrix&lt;scalarType&gt;</span></code></a>.
In each case, there are thirteen different legal <cite>(colDist,rowDist)</cite>
distribution pairs; each is a sensical pairing of one of the following
applied to the columns of the matrix, and one applied to the rows of the matrix:</p>
<ul class="simple">
<li><p><cite>CIRC</cite> : Only give the data to a single process</p></li>
<li><p><cite>STAR</cite> : Give the data to every process</p></li>
<li><p><cite>MC</cite> : Distribute round-robin within each column of the 2D process grid (<em>M</em> atrix <em>C</em> olumn)</p></li>
<li><p><cite>MR</cite>: Distribute round-robin within each row of the 2D process grid (<em>M</em> atrix <em>R</em> ow)</p></li>
<li><p><cite>VC</cite>: Distribute round-robin within a column-major ordering of the entire 2D process grid (<em>V</em> ector <em>C</em> olumn)</p></li>
<li><p><cite>VR</cite>: Distribute round-robin within a row-major ordering of the entire 2D process grid (<em>V</em> ector <em>R</em> ow)</p></li>
<li><p><cite>MD</cite>: Distribute round-robin over a diagonal of the tiling of the 2D process grid (<em>M</em> atrix <em>D</em> iagonal)</p></li>
</ul>
<p>The valid pairings are:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 15%" />
<col style="width: 21%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ColDist</p></th>
<th class="head"><p>RowDist</p></th>
<th class="head"><p>ColComm</p></th>
<th class="head"><p>RowComm</p></th>
<th class="head"><p>DistComm</p></th>
<th class="head"><p>RedundantComm</p></th>
<th class="head"><p>CrossComm</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CIRC</p></td>
<td><p>CIRC</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
<td><p>VC</p></td>
</tr>
<tr class="row-odd"><td><p>MC</p></td>
<td><p>MR</p></td>
<td><p>MC</p></td>
<td><p>MR</p></td>
<td><p>VC</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-even"><td><p>MC</p></td>
<td><p>STAR</p></td>
<td><p>MC</p></td>
<td><p>self</p></td>
<td><p>MC</p></td>
<td><p>MR</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-odd"><td><p>MD</p></td>
<td><p>STAR</p></td>
<td><p>MD</p></td>
<td><p>self</p></td>
<td><p>MD</p></td>
<td><p>self</p></td>
<td><p>MDPerp</p></td>
</tr>
<tr class="row-even"><td><p>MR</p></td>
<td><p>MC</p></td>
<td><p>MR</p></td>
<td><p>MC</p></td>
<td><p>VR</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-odd"><td><p>MR</p></td>
<td><p>STAR</p></td>
<td><p>MR</p></td>
<td><p>self</p></td>
<td><p>MR</p></td>
<td><p>MC</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-even"><td><p>STAR</p></td>
<td><p>MC</p></td>
<td><p>self</p></td>
<td><p>MC</p></td>
<td><p>MC</p></td>
<td><p>MR</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-odd"><td><p>STAR</p></td>
<td><p>MD</p></td>
<td><p>self</p></td>
<td><p>MD</p></td>
<td><p>MD</p></td>
<td><p>self</p></td>
<td><p>MDPerp</p></td>
</tr>
<tr class="row-even"><td><p>STAR</p></td>
<td><p>MR</p></td>
<td><p>self</p></td>
<td><p>MR</p></td>
<td><p>MR</p></td>
<td><p>MC</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-odd"><td><p>STAR</p></td>
<td><p>STAR</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
<td><p>VC</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-even"><td><p>STAR</p></td>
<td><p>VC</p></td>
<td><p>self</p></td>
<td><p>VC</p></td>
<td><p>VC</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-odd"><td><p>STAR</p></td>
<td><p>VR</p></td>
<td><p>self</p></td>
<td><p>VR</p></td>
<td><p>VR</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-even"><td><p>VC</p></td>
<td><p>STAR</p></td>
<td><p>VC</p></td>
<td><p>self</p></td>
<td><p>VC</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
</tr>
<tr class="row-odd"><td><p>VR</p></td>
<td><p>STAR</p></td>
<td><p>VR</p></td>
<td><p>self</p></td>
<td><p>VR</p></td>
<td><p>self</p></td>
<td><p>self</p></td>
</tr>
</tbody>
</table>
<p>where <cite>DistComm</cite> refers to the communicator that the entire matrix (rather than
just the rows or columns) is distributed over. When the matrix is distributed
over a communicator which only involves only a subset of the processes, it is
possible to either assign the data to just that subset or redundantly store
the entire matrix on each such subset of processes (e.g., within each row of a
2D arrangement of the set of processes). The <cite>RedundantComm</cite> refers to the
communicator where each member process stores the same information, and the
<cite>CrossComm</cite> is the communicator where only a single process (the <em>root</em>) is
assigned any data.</p>
<p>To make this discussion more precise, each valid matrix distribution for
<cite>DistMatrix</cite> logically arranges the set of <cite>p</cite> processes of the <cite>r</cite> by <cite>c</cite>
process grid into a 4D mesh: <cite>ColComm</cite> x <cite>RowComm</cite> x <cite>RedundantComm</cite> x <cite>CrossComm</cite>, where <cite>DistComm</cite> is equal to <cite>ColComm</cite> x <cite>RowComm</cite>.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Element.html" class="btn btn-neutral float-right" title="ElementalMatrix" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ADM.html" class="btn btn-neutral float-left" title="AbstractDistMatrix" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2016, Jack Poulson

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>